(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{65:function(t,e,a){"use strict";a.r(e);var n=a(34),r=a.n(n),c=a(35),s=a(14),i=a(15),o=a(17),u=a(16),h=a(36),p=a.n(h),l=a(0),d=a(8),f=a(1),b=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={inputValue:"",data:[]},t.fetchData=Object(c.a)(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams(t.props.location.search),e.next=3,p.a.get("https://api.themoviedb.org/3/search/movie?api_key=fd24293d59cd022df746242a4a847605&query=".concat(a.get("query"))).then((function(t){return t.data}));case 3:n=e.sent,t.setState({data:n.results}),console.log(n.results);case 6:case"end":return e.stop()}}),e)}))),t.handleChange=function(e){var a=e.target.value;t.setState({inputValue:a})},t.handleSubmit=function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t.props.history.push({search:"query=".concat(t.state.inputValue)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.location.search&&this.fetchData()}},{key:"componentDidUpdate",value:function(t){this.props.location.search!==t.location.search&&this.fetchData()}},{key:"render",value:function(){var t=this;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsx)("input",{type:"text",value:this.state.inputValue,onChange:this.handleChange}),Object(f.jsx)("button",{type:"submit",children:"Search"})]}),Object(f.jsx)("ul",{children:this.state.data.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)(d.c,{to:{pathname:"/movies/".concat(e.id),state:t.props.location},children:e.title})},e.id)}))})]})}}]),a}(l.Component);e.default=b}}]);
//# sourceMappingURL=6.4ed7ee3f.chunk.js.map